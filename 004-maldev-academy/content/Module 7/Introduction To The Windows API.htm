<!DOCTYPE html>
<html class="dark"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie-edge">
        <meta name="csrf-token" content="aHzsquahomm2Bo0anbhiCgbZ1siEurCTfma8L6Pk">
        <link rel="stylesheet" href="Introduction%20To%20The%20Windows%20API_files/template.css">
        <link rel="shortcut icon" href="#favicon.ico">
        <!-- fontawesome for icons -->
        <link rel="stylesheet" href="Introduction%20To%20The%20Windows%20API_files/font-awesome.min.css">
        <!-- google fonts -->
        <link rel="preconnect" href="https://fonts.gstatic.com/">
        <link href="Introduction%20To%20The%20Windows%20API_files/css2.css" rel="stylesheet">
        <link href="Introduction%20To%20The%20Windows%20API_files/css2_002.css" rel="stylesheet">
        <title>Introduction To The Windows API</title>
        <!-- Custom css files, order matters -->
        <link rel="preload" as="style" href="Introduction%20To%20The%20Windows%20API_files/app.fdbb573b.css"><link rel="stylesheet" href="Introduction%20To%20The%20Windows%20API_files/app.fdbb573b.css"><link rel="stylesheet" href="Introduction%20To%20The%20Windows%20API_files/viewer.css">
    </head>
    <body>
        <nav id="navbar" class="px-2 sm:px-4 py-2.5 bg-gray-900 sticky hidden">
    <div class="container flex flex-wrap justify-between mx-auto">
      <a data-target="_self" href="#" class="flex items-center">
        <div class="main-logo flex flex-row items-center">
            <span class="text-xl logo-font text-white">MALDEV</span>
            <img class="w-[25px] mx-2 relative bottom-1" src="Introduction%20To%20The%20Windows%20API_files/logo-bug-2.png" alt="Logo">   
            <span class="text-xl logo-font text-white">ACADEMY</span>          
        </div>
      </a>
      <button data-collapse-toggle="navbar-default" id="navbar-phone-btn" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
      <div class="hidden w-full md:block md:w-auto" id="navbar-default">
        <ul class="flex flex-col items-center p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
          <li>
            <a data-target="_self" href="#" class="block py-2 pr-4 pl-3 text-gray-400 md:p-0">Home</a>
          </li>
          <li>
            <a data-target="_self" href="#faq" class="block py-2 pr-4 pl-3 text-gray-400 md:p-0">FAQ</a>
          </li>
          <li>
            <a data-target="_self" href="#syllabus" class="block py-2 pr-4 pl-3 text-gray-400 md:p-0">Syllabus</a>
          </li>
                              <li>
            <a data-target="_self" href="#pricing" class="block py-2 pr-4 pl-3 text-gray-400 md:p-0">Pricing</a>
          </li>
                                        <li>
            <a data-target="_self" href="#profile" class="block py-2 pr-4 pl-3 text-gray-400 md:p-0">Profile</a>
          </li>
          <li>
            <form action="#logout" method="POST">
            <input type="hidden" name="_token" value="aHzsquahomm2Bo0anbhiCgbZ1siEurCTfma8L6Pk">              <button type="submit" class="block py-2 pr-4 pl-3 text-gray-400 md:p-0">Logout</button>
            </form>
          </li>
          <li class="mt-4 md:mt-0">
            <a data-target="_self" href="#modules" class="text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center md:mr-3 mr-0 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Modules</a>
          </li>
                  </ul>
      </div>
    </div>
  </nav>        <div class="bg-gray-900 p-4">
    <div class="flex">
        <div class="md:flex-row flex-col flex md:items-center w-1/2 bg-gray-700 border-l border-t border-gray-600 pl-4 pt-2 pb-2 rounded-tl">
            <div>
                Module 7 - Introduction To The Windows API
            </div>
            <div class="ml-2 w-4 h-4 bg-green-800 rounded-full"></div>
        </div>
        <div class="flex justify-end items-center w-1/2 bg-gray-700 pr-4 pt-2 pb-2 rounded-tr border-t border-r border-gray-600">
            <div class="enlarge-container pr-4">
                <img src="Introduction%20To%20The%20Windows%20API_files/enlarge.svg" onclick="toggleScreenWidth()" class="hover:bg-gray-600 rounded-sm cursor-pointer" id="enlargeToggle" alt="Screen Width" width="20px">
            </div>
            <div class="objectives-container pr-4">
                <img src="Introduction%20To%20The%20Windows%20API_files/objectives.svg" onclick="toggleObjectives()" class="hover:bg-gray-600 cursor-pointer" id="objectivesToggle" alt="Objectives" width="20px">
            </div>
            <div class="terminal-container ">
                <img src="Introduction%20To%20The%20Windows%20API_files/ide.svg" onclick="toggleIde()" class="hover:bg-gray-600 rounded-sm cursor-pointer" id="terminalToggle" alt="Terminal" width="22px">
            </div>
                    </div>
    </div>
    <div id="height-container" class="flex h-full min-h-[800px]">
        <div class="flex max-w-full min-w-full">
            <div id="description-container" class="viewer code-description h-full bg-gray-800 p-4 border-r border-l border-b border-gray-600 px-5 md:px-10 lg:px-20 w-full"><div class="toastui-editor-contents" style="overflow-wrap: break-word;">
            <h2>Introduction To The Windows API</h2>
<h3>Introduction</h3>
<p>The Windows API provides developers with a way for their applications
 to interact with the Windows operating system. For example, if the 
application needs to display something on the screen, modify a file or 
query the registry all of these actions can be done via the Windows API.
 The Windows API is very well documented by Microsoft and can be viewed <a href="https://learn.microsoft.com/en-us/windows/win32/apiindex/windows-api-list" target="_blank">here</a>.</p>
<h3>Windows Data Types</h3>
<p>The Windows API has many data types outside of the well-known ones 
(e.g. int, float). The data types are documented and can be viewed <a href="https://learn.microsoft.com/en-us/windows/win32/winprog/windows-data-types" target="_blank">here</a>.</p>
<p>Some of the common data types are listed below:</p>
<ul>
<li>
<code>DWORD</code> - A 32-bit unsigned integer, on both 32-bit and 64-bit systems, used to represent values from 0 up to (2^32 - 1).</li>
</ul>
<pre><code>DWORD dwVariable = 42;
</code></pre>
<ul>
<li>
<code>size_t</code> - Used to represent the size of an object. It's a 
32-bit unsigned integer on 32-bit systems representing values from 0 up 
to (2^32 - 1). On the other hand, it's a 64-bit unsigned integer on 
64-bit systems representing values from 0 up to (2^64 - 1).</li>
</ul>
<pre><code>SIZE_T sVariable = sizeof(int);
</code></pre>
<ul>
<li>
<code>VOID</code> - Indicates the absence of a specific data type.</li>
</ul>
<pre><code>void* pVariable = NULL; // This is the same as PVOID
</code></pre>
<ul>
<li>
<code>PVOID</code> - A 32-bit or 4-byte pointer of any data type on 
32-bit systems. Alternatively, a 64-bit or 8-byte pointer of any data 
type on 64-bit systems.</li>
</ul>
<pre><code>PVOID pVariable = &amp;SomeData;
</code></pre>
<ul>
<li>
<code>HANDLE</code> - A value that specifies a particular object that the operating system is managing (e.g. file, process, thread).</li>
</ul>
<pre><code>HANDLE hFile = CreateFile(...);
</code></pre>
<ul>
<li>
<code>HMODULE</code> - A handle to a module. This is the base address of the module in memory. An example of a MODULE can be a DLL or EXE file.</li>
</ul>
<pre><code>HMODULE hModule = GetModuleHandle(...);
</code></pre>
<ul>
<li>
<code>LPCSTR/PCSTR</code> - A pointer to a constant null-terminated 
string of 8-bit Windows characters (ANSI). The "L" stands for "long" 
which is derived from the 16-bit Windows programming period, nowadays it
 doesn't affect the data type, but the naming convention still exists. 
The "C" stands for "constant" or read-only variable. Both these data 
types are equivalent to <code>const char*</code>.</li>
</ul>
<pre><code>LPCSTR  lpcString   = "Hello, world!";
PCSTR   pcString    = "Hello, world!";
</code></pre>
<ul>
<li>
<code>LPSTR/PSTR</code> - The same as <code>LPCSTR</code> and <code>PCSTR</code>, the only difference is that <code>LPSTR</code> and <code>PSTR</code>
 do not point to a constant variable, and instead point to a readable 
and writable string. Both these data types are equivalent to <code>char*</code>.</li>
</ul>
<pre><code>LPSTR   lpString    = "Hello, world!";
PSTR    pString     = "Hello, world!";
</code></pre>
<ul>
<li>
<code>LPCWSTR\PCWSTR</code> - A pointer to a constant null-terminated 
string of 16-bit Windows Unicode characters (Unicode). Both these data 
types are equivalent to <code>const wchar*</code>.</li>
</ul>
<pre><code>LPCWSTR     lpwcString  = L"Hello, world!";
PCWSTR      pcwString   = L"Hello, world!";
</code></pre>
<ul>
<li>
<code>PWSTR\LPWSTR</code> - The same as <code>LPCWSTR</code> and <code>PCWSTR</code>,
 the only difference is that 'PWSTR' and 'LPWSTR' do not point to a 
constant variable, and instead point to a readable and writable string. 
Both these data types are equivalent to <code>wchar*</code>.</li>
</ul>
<pre><code>LPWSTR  lpwString   = L"Hello, world!";
PWSTR   pwString    = L"Hello, world!";
</code></pre>
<ul>
<li>
<code>wchar_t</code> - The same as <code>wchar</code> which is used to represent wide characters.</li>
</ul>
<pre><code>wchar_t     wChar           = L'A';
wchar_t*    wcString        = L"Hello, world!";
</code></pre>
<ul>
<li>
<code>ULONG_PTR</code> - Represents an unsigned integer that is the same size as a pointer on the specified architecture, meaning on 32-bit systems a <code>ULONG_PTR</code> will be 32 bits in size, and on 64-bit systems, it will be 64 bits in size. Throughout this course, <code>ULONG_PTR</code>
 will be used in the manipulation of arithmetic expressions containing 
pointers (e.g. PVOID). Before executing any arithmetic operation, a 
pointer will be subjected to type-casting to <code>ULONG_PTR</code>. This approach is used to avoid direct manipulation of pointers which can lead to compilation errors.</li>
</ul>
<pre><code>PVOID Pointer = malloc(100);
// Pointer = Pointer + 10; // not allowed
Pointer = (ULONG_PTR)Pointer + 10; // allowed
</code></pre>
<h3>Data Types Pointers</h3>
<p>The Windows API allows a developer to declare a data type directly or
 a pointer to the data type. This is reflected in the data type names 
where the data types that start with "P" represent pointers to the 
actual data type while the ones that don't start with "P" represent the 
actual data type itself.</p>
<p>This will become useful later when working with Windows APIs that 
have parameters that are pointers to a data type. The examples below 
show how the "P" data type relates to its non-pointer equivalent.</p>
<ul>
<li>
<p><code>PHANDLE</code> is the same as <code>HANDLE*</code>.</p>
</li>
<li>
<p><code>PSIZE_T</code> is the same as <code>SIZE_T*</code>.</p>
</li>
<li>
<p><code>PDWORD</code> is the same as <code>DWORD*</code>.</p>
</li>
</ul>
<h3>ANSI &amp; Unicode Functions</h3>
<p>The majority of Windows API functions have two versions ending with either "A" or with "W". For example, there is <a href="https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-createfilea" target="_blank">CreateFileA</a> and <a href="https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-createfilew" target="_blank">CreateFileW</a>. The functions ending with "A" are meant to indicate "ANSI" whereas the functions ending with "W" represent Unicode or "Wide".</p>
<p>The main difference to keep in mind is that the ANSI functions will 
take in ANSI data types as parameters, where applicable, whereas the 
Unicode functions will take in Unicode data types. For example, the 
first parameter for <code>CreateFileA</code> is an <code>LPCSTR</code>, which is a pointer to a constant null-terminated string of <strong>8-bit</strong> Windows ANSI characters. On the other hand, the first parameter for <code>CreateFileW</code> is <code>LPCWSTR</code>, a pointer to a constant null-terminated string of <strong>16-bit</strong> Unicode characters.</p>
<p>Furthermore, the number of required bytes will differ depending on which version is used.</p>
<p><code>char str1[] = "maldev";</code> // 7 bytes (maldev + <a href="https://www.tutorialandexample.com/null-character-in-c" target="_blank">null byte</a>).</p>
<p><code>wchar str2[] = L"maldev";</code> // 14 bytes, each character is 2 bytes (The null byte is also 2 bytes)</p>
<h3>In and Out Parameters</h3>
<p>Windows APIs have <a href="https://learn.microsoft.com/en-us/windows/win32/midl/in" target="_blank">in</a> and <a href="https://learn.microsoft.com/en-us/windows/win32/midl/out-idl" target="_blank">out</a> parameters. An <code>IN</code> parameter is a parameter that is passed into a function and is used for input. Whereas an <code>OUT</code>
 parameter is a parameter used to return a value back to the caller of 
the function. Output parameters are often passed in by reference through
 pointers.</p>
<p>For example, the code snippet below shows a function <code>HackTheWorld</code> which takes in an integer pointer and sets the value to <code>123</code>. This is considered an out parameter since the parameter is returning a value.</p>
<pre><code>BOOL HackTheWorld(OUT int* num){

    // Setting the value of num to 123
    *num = 123;
    
    // Returning a boolean value
    return TRUE;
}

int main(){
    int a = 0;

    // 'HackTheWorld' will return true
    // 'a' will contain the value 123
    HackTheWorld(&amp;a);
}
</code></pre>
<p>Keep in mind that the use of the <code>OUT</code> or <code>IN</code> 
keywords is meant to make it easier for developers to understand what 
the function expects and what it does with these parameters. However, it
 is worth mentioning that excluding these keywords does not affect 
whether the parameter is considered an output or input parameter.</p>
<h3>Windows API Example</h3>
<p>Now that the fundamentals of the Windows API have been laid out, this section will go through the usage of the <code>CreateFileW</code> function.</p>
<h4>Find the API Reference</h4>
<p>It's important to always reference the documentation if one is unsure
 about what the function does or what arguments it requires. Always read
 the description of the function and assess whether the function 
accomplishes the desired task. The <code>CreateFileW</code> documentation is available <a href="https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-createfilew" target="_blank">here</a>.</p>
<h4>Analyze Return Type &amp; Parameters</h4>
<p>The next step would be to view the parameters of the function along with the return data type. The documentation states <em>If the function succeeds, the return value is an open handle to the specified file, device, named pipe, or mail slot</em> therefore <code>CreateFileW</code> returns a <code>HANDLE</code> data type to the specified item that's created.</p>
<p>Furthermore, notice that the function parameters are all <code>in</code> parameters. This means the function does not return any data from the parameters since they are all <code>in</code> parameters. Keep in mind that the keywords within the square brackets, such as <code>in</code>, <code>out</code>, and <code>optional</code>, are purely for developers' reference and do not have any actual impact.</p>
<pre><code>HANDLE CreateFileW(
  [in]           LPCWSTR               lpFileName,
  [in]           DWORD                 dwDesiredAccess,
  [in]           DWORD                 dwShareMode,
  [in, optional] LPSECURITY_ATTRIBUTES lpSecurityAttributes,
  [in]           DWORD                 dwCreationDisposition,
  [in]           DWORD                 dwFlagsAndAttributes,
  [in, optional] HANDLE                hTemplateFile
);
</code></pre>
<h4>Use The Function</h4>
<p>The sample code below goes through an example usage of <code>CreateFileW</code>. It will create a text file with the name <code>maldev.txt</code> on the current user's Desktop.</p>
<pre><code>// This is needed to store the handle to the file object
// the 'INVALID_HANDLE_VALUE' is just to intialize the variable
Handle hFile = INVALID_HANDLE_VALUE; 

// The full path of the file to create.
// Double backslashes are required to escape the single backslash character in C
LPCWSTR filePath = L"C:\\Users\\maldevacademy\\Desktop\\maldev.txt";

// Call CreateFileW with the file path
// The additional parameters are directly from the documentation
hFile = CreateFileW(filePath, GENERIC_ALL, 0, NULL, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, NULL);

// On failure CreateFileW returns INVALID_HANDLE_VALUE
// GetLastError() is another Windows API that retrieves the error code of the previously executed WinAPI function
if (hFile == INVALID_HANDLE_VALUE){
    printf("[-] CreateFileW Api Function Failed With Error : %d\n", GetLastError());
    return -1;
}
</code></pre>
<h3>Windows API Debugging Errors</h3>
<p>When functions fail they often return a non-verbose error. For example, if <code>CreateFileW</code> fails it returns <code>INVALID_HANDLE_VALUE</code>
 which indicates that a file could not be created. To gain more insight 
as to why the file couldn't be created, the error code must be retrieved
 using the <a href="https://learn.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror" target="_blank">GetLastError</a> function.</p>
<p>Once the code is retrieved, it needs to be looked up in <a href="https://learn.microsoft.com/en-us/windows/win32/debug/system-error-codes--0-499-" target="_blank">Windows's System Error Codes List</a>. Some common error codes are translated below:</p>
<ul>
<li>
<p><code>5</code> - ERROR_ACCESS_DENIED</p>
</li>
<li>
<p><code>2</code> - ERROR_FILE_NOT_FOUND</p>
</li>
<li>
<p><code>87</code> - ERROR_INVALID_PARAMETER</p>
</li>
</ul>
<h3>Windows Native API Debugging Errors</h3>
<p>Recall from the <em>Windows Architecture</em> module, NTAPIs are mostly exported from <code>ntdll.dll</code>. Unlike Windows APIs, these functions cannot have their error code fetched via <code>GetLastError</code>. Instead, they return the error code directly which is represented by the <code>NTSTATUS</code> data type.</p>
<p><code>NTSTATUS</code> is used to represent the status of a system 
call or function and is defined as a 32-bit unsigned integer value. A 
successful system call will return the value <code>STATUS_SUCCESS</code>, which is <code>0</code>.
 On the other hand, if the call failed it will return a non-zero value, 
to further investigate the cause of the problem, one must check <a href="https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-erref/596a1078-e883-4972-9bbc-49e60bebca55" target="_blank">Microsoft's documentation on NTSTATUS values</a>.</p>
<p>The code snippet below shows how error checking for system calls is done.</p>
<pre><code>NTSTATUS STATUS = NativeSyscallExample(...);
if (STATUS != STATUS_SUCCESS){
    // printing the error in unsigned integer hexadecimal format
    printf("[!] NativeSyscallExample Failed With Status : 0x%0.8X \n", STATUS); 
}

// NativeSyscallExample succeeded
</code></pre>
<h4>NT_SUCCESS Macro</h4>
<p>Another way to check the return value of NTAPIs is through the <code>NT_SUCCESS</code> macro shown <a href="https://learn.microsoft.com/en-us/windows-hardware/drivers/kernel/using-ntstatus-values" target="_blank">here</a>. The macro returns <code>TRUE</code> if the function succeeded, and <code>FALSE</code> it fails.</p>
<pre><code>#define NT_SUCCESS(Status) (((NTSTATUS)(Status)) &gt;= 0)
</code></pre>
<p>Below, is an example of using this macro</p>
<pre><code>NTSTATUS STATUS = NativeSyscallExample(...);
if (!NT_SUCCESS(STATUS)){
    // printing the error in unsigned integer hexadecimal format
    printf("[!] NativeSyscallExample Failed With Status : 0x%0.8X \n", STATUS); 
}

// NativeSyscallExample succeeded
</code></pre>

            </div></div>
            <div id="accessory-container" class="hidden flex flex-col w-1/4 min-w-1/4 h-full">
                <div id="objectives" class="hidden p-4 border-r border-b bg-gray-900 border-gray-600 font-code w-full h-1/2">
                    <div class="w-full bg-gray-700 text-center mb-4 font-sans text-lg">Objectives</div>
                                                                        
                                                                        
            <div class="flex items-center mb-2 font-sans">
                                <input type="checkbox" id="objective-0" data-objective-id="0" class="flex-none w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Review Microsoft's documentation for the list of Windows data types</label>
                            </div>
                                                                        
                                                                        
                    <div class="flex items-center mb-2 font-sans">
                                <input type="checkbox" id="objective-1" data-objective-id="1" class="flex-none w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Compare CreateProcessA with CreateProcessW</label>
                            </div>
                                                                        
                                                                        
                    <div class="flex items-center mb-2 font-sans">
                                <input type="checkbox" id="objective-2" data-objective-id="2" class="flex-none w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">View CreateProcessW's last parameter, lpProcessInformation. Why is this considered an OUT parameter?</label>
                            </div>
                                                                        
                                                                        
                    <div class="flex items-center mb-2 font-sans">
                                <input type="checkbox" id="objective-3" data-objective-id="3" class="flex-none w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Retrieve the name of the current user using the GetUserNameA WinAPI</label>
                            </div>
                                                                        
                                                                        
                    <div class="flex items-center mb-2 font-sans">
                                <input type="checkbox" id="objective-4" data-objective-id="4" class="flex-none w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Review the possible NTSTATUS values</label>
                            </div>
                                                                        
                                                                        
                    <div class="flex items-center mb-2 font-sans">
                                <input type="checkbox" id="objective-5" data-objective-id="5" class="flex-none w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                <label class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Pass an incorrect parameter and check what value the GetLastError WinAPI returns.</label>
                            </div>
                                                                                  
                </div>
                <div id="ide" class="hidden p-4 border-r border-b border-gray-600 font-code w-full h-1/2">
                    <textarea class="bg-gray-900 outline-0 w-full h-full resize-none font-sans" placeholder="Write temporary notes or code here"></textarea>
                </div>
            </div>  
        </div>
      </div>
      <div class="flex">
        <div class="flex flex-row flex-wrap justify-center items-center w-full bg-gray-700 border-r border-l border-gray-600 pl-4 pt-2 pb-2 rounded-bl rounded-br">
                        <div class="mr-2">
                <a data-target="_self" href="#modules/6"><button class="w-[100px] h-10 px-5 text-sm duration-150 text-white bg-blue-700 hover:bg-blue-800 rounded-lg focus:shadow-outline">Previous</button></a>           
            </div>
                        <div class="mr-2">
                <a data-target="_self" href="#modules"><button class="w-[100px] h-10 px-5 text-sm duration-150 text-white bg-blue-700 hover:bg-blue-800 rounded-lg focus:shadow-outline">Modules</button></a>           
            </div>
            <div class="my-2 mr-2">
            <form id="complete-module" action="#modules/7/complete" method="POST">
                <input type="hidden" name="_token" value="aHzsquahomm2Bo0anbhiCgbZ1siEurCTfma8L6Pk">                <button id="complete-btn" class="w-[100px] h-10 px-5 text-white text-sm duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800 hidden">Complete</button>
            </form>
            <form id="uncomplete-module" action="#modules/7/progress" method="POST">
                <input type="hidden" name="_token" value="aHzsquahomm2Bo0anbhiCgbZ1siEurCTfma8L6Pk">                <button id="uncomplete-btn" class="w-[100px] h-10 px-5 text-white text-sm duration-150 bg-red-700 rounded-lg focus:shadow-outline hover:bg-red-800 ">Undo</button>
            </form>
            </div>
                                    <div class="mr-2">
                <a data-target="_self" href="#modules/8"><button class="w-[100px] h-10 px-5 text-sm duration-150 text-white bg-blue-700 hover:bg-blue-800 rounded-lg focus:shadow-outline">Next</button></a>           
            </div>
                    </div>
    </div>
</div>

<footer id="footer" class="text-gray-400 border-t-[1px] border-gray-700 bg-gray-900 body-font hidden">
    <div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col">
      <p class="text-sm text-gray-400 sm:ml-4 sm:pl-4 sm:border-gray-800 sm:py-2 sm:mt-0 mt-4">Â© 2023 MalDev Academy</p>
        <a href="#" target="_blank" class="text-gray-500 hover:text-white ml-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg>
        </a>
      <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start">
        <a class="text-gray-400 text-sm" href="/" target="_blank">
#      </a></span><a class="text-gray-400 text-sm" href="/" target="_blank">
    </a></div><a class="text-gray-400 text-sm" href="/" target="_blank">
  </a></footer><a class="text-gray-400 text-sm" href="/" target="_blank">        

        <script src="Introduction%20To%20The%20Windows%20API_files/jquery-3.6.0.min.js"></script>
        <script src="Introduction%20To%20The%20Windows%20API_files/bootstrap.min.js"></script>
        <link rel="preload" as="style" href="Introduction%20To%20The%20Windows%20API_files/app.4474f4d1.css"><link rel="modulepreload" href="Introduction%20To%20The%20Windows%20API_files/app.5f3af5ce.js"><link rel="stylesheet" href="Introduction%20To%20The%20Windows%20API_files/app.4474f4d1.css"><script type="module" src="Introduction%20To%20The%20Windows%20API_files/app.5f3af5ce.js"></script><script src="Introduction%20To%20The%20Windows%20API_files/navbar.js"></script>
<script src="Introduction%20To%20The%20Windows%20API_files/moduleviewer.js"></script>

 
<script>
$(document).ready(function() {
    $('a:not([data-target="_self"])').attr('target', '_blank');

    $('input[type=checkbox]').change(function() {
    var checked = $(this).is(':checked');
    var userId = 260;
    var moduleId = 7;
    var objectiveId = $(this).data('objective-id');
    $.ajax({
        url: checked ? "#complete/objective" : "#remove/objective",
        type: "POST",
        data: {
        _token: "aHzsquahomm2Bo0anbhiCgbZ1siEurCTfma8L6Pk",
        user_id: userId,
        module_id: moduleId,
        objective_id: objectiveId
        },
        success: function(response) {

        },
        error: function(xhr) {
        console.log('Error');
        }
    });
    });

    $('#complete-module').submit(function(event) {
    event.preventDefault(); // Prevent default form submission

    var form = $(this);
    var url = form.attr('action');
    var data = form.serialize();
    var completeBtn = form.find('#complete-btn');
    var uncompleteBtn = $('#uncomplete-btn');

    $.ajax({
        type: 'POST',
        url: url,
        data: data,
        success: function(response) {
            completeBtn.addClass('hidden');
            uncompleteBtn.removeClass('hidden');
        },
        error: function(xhr) {
            console.log('Error');
        }
    });
});

$('#uncomplete-module').submit(function(event) {
    event.preventDefault(); // Prevent default form submission

    var form = $(this);
    var url = form.attr('action');
    var data = form.serialize();
    var completeBtn = $('#complete-btn');
    var uncompleteBtn = form.find('#uncomplete-btn');

    $.ajax({
        type: 'POST',
        url: url,
        data: data,
        success: function(response) {
            uncompleteBtn.addClass('hidden');
            completeBtn.removeClass('hidden');
        },
        error: function(xhr) {
            console.log('Error');
        }
    });
});
});
</script>
    
</a></body></html>